<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/
4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="desgin.css" type="text/css">  
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <title>Register Page</title>
    
</head>
<body>
<div class="container">   
  <div class="title">Registration</div>
    <form  action="" method="post">
        <div class="user-details">
            <div class="input-box">


                <label class="details" name="l1" >Login</label>
                <input type="text" id="login" placeholder="Enter your username" ><br>
                <span id="login_error" class="error" ></span>
                <br><br>
            </div>
            <div class="input-box">
                <label class="details" name="l2" >Password</label>
                <input type="password" id="p1" placeholder="Enter your password"><br>
                <span id="pass_error" class="error"></span>

                <br><br>
            </div>   
            
            <div class="input-box">

                <label class="details" name="l3" >Confirm_Password</label>
                <input type="password" id="p2" placeholder="Enter your password again"><br>
                <span id="pass2_error" class="error"></span>
                <br><br>
            </div>
            
            <div class="input-box">

                <label class="details" name="l4" >Email</label>
                <input type="email" id="email" placeholder="Enter your email"><br>
                <span id="email_error" class="error"></span>
                <br><br>
            </div>

            <div class="input-box">
                <label class="details" name="l5" >Name</label>
                <input type="text" id="name" placeholder="Enter your name"><br>
                <span id="name_error" class="error"></span>
                
            </div>

            <div class="input-box">
              
                <input type="hidden" >
                
            </div>
            
            <div class="button">    

                <button type="submit" id="submit" name="submit">Submit</button>
                <br><br>
                <a href="login.html" class="btn btn-success">login</a>
    
            </div>
           
        </div>
    </form>
  
</div> 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    
    <script type="text/javascript">
        
            $(document).ready(function(){
                $("#login").on("input",function(){
                   checklogin();
                });
                $("#p1").on("input",function(){
                    checkpass();

                });
                $("#p2").on("input",function(){
                    checkpass2();

                });
                $("#email").on("input",function(){
                    checkemail();

                });
                $("#name").on("input",function(){
                    checkname();

                });

                $("#submit").on("click",function(e){
                    e.preventDefault();
                    $.ajax({
                        method:"POST",
                        url:"registration.php",
                        datatype:"json",
                        data:{login:$('#login').val(),
                        p1:$('#p1').val(),
                        p2:$('#p2').val(),
                        email:$('#email').val(),
                        name:$('#name').val()},

                        success:function(data,status,xhr){
                            
                            if(data['text']==1){
                                
                                alert('register successfully'); 
                                
                            }
                            else if(data['text']==10){

                                alert('This user already exist');
                                

                            }
                                
                            else if(data['text']==100){

                                alert('password dosenot match');

                            }else{
                                 $("#show").html(data);

                            }
                                
                        }

                        
                    });
                        
                });
            });            
            
    function checklogin(){
        var cond = /[A-Za-z0-9]{6,}/;
        var login = $("#login").val();
        var valilogin = cond.test(login);
        if($("#login").val() == ""){
            $("#login_error").html("plese fill this field");
            return false;
        }
        else if($("#login").val().length<6){
            $("#login_error").html("your login must be more than 6 letters");
            return false;
        }
        else if(!valilogin){
            $("#login_error").html("username error");

        }
        else{
            $("#login_error").html("");
            return true; 
        }
    } 
    
    function checkpass(){
        var cond = /[A-Za-z].*[0-9]|[0-9].*[A-Za-z]/;
        var pass = $("#p1").val();
        var valipass = cond.test(pass);
        if($("#p1").val() == ""){
            $("#pass_error").html("plese fill this field");
            return false;
        }
        else if($("#p1").val().length<6){
            $("#pass_error").html("your password must be more than 6 characters");
            return false;
        }
        else if(!valipass){
            $("#pass_error").html("password error : must be combination of letters and numbers");

        }
        else{
            $("#pass_error").html("");
            return true; 
        }
    }
    
    function checkpass2(){
        var pass = $("#p1").val();
        var pass2 = $("#p2").val();
        
        if($("#p2").val() == ""){
            $("#pass2_error").html("plese fill this field");
            return false;
        }
        else if(pass !== pass2 ){
            $("#pass2_error").html("confirm password did not match");
            return false;
        }else{
            $("#pass2_error").html("");
            return true; 
        }
    }   
    
    function checkemail(){
        var cond = /[a-z0-9]+@[a-z]+\.[a-z]{2,3}/;
        var em = $("#email").val();
        var valiemail = cond.test(em);
        if($("#email").val() == ""){
            $("#email_error").html("plese fill this field");
            return false;
        }
        
        else if(!valiemail){
            $("#email_error").html("email error");

        }
        else{
            $("#email_error").html("");
            return true; 
        }
    }

    function checkname(){
        var cond = /[a-zA-Z]{2,}/;
        var name = $("#login").val();
        var valiname = cond.test(name);
        if($("#name").val() == ""){
            $("#name_error").html("plese fill this field");
            return false;
        }
        else if($("#name").val().length<2){
            $("#name_error").html("your name must be more than 2 letters");
            return false;
        }
        else if(!valiname){
            $("#name_error").html("name error : your name must be only letters");

        }
        else{
            $("#name_error").html("");
            return true; 
        }
    } 
    </script>
</body>
</html>



        
                
                    
               
            
                
        
